<mxfile host="app.diagrams.net" modified="2025-02-05T00:00:00.000Z" agent="Mozilla/5.0" etag="epr-kavach-architecture" version="22.1.0" type="device">
  <diagram id="high-level-architecture" name="High-Level Architecture">
    <mxGraphModel dx="2000" dy="1000" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2000" pageHeight="1500" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Users Layer -->
        <mxCell id="users-group" value="Users & Clients" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#ffeb3b;strokeColor=#f57f17;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="80" y="40" width="300" height="150" as="geometry" />
        </mxCell>
        <mxCell id="admin" value="Admin" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff9c4;strokeColor=#fbc02d;" vertex="1" parent="users-group">
          <mxGeometry x="20" y="30" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="user" value="Users" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff9c4;strokeColor=#fbc02d;" vertex="1" parent="users-group">
          <mxGeometry x="110" y="30" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="client" value="Clients" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff9c4;strokeColor=#fbc02d;" vertex="1" parent="users-group">
          <mxGeometry x="200" y="30" width="80" height="40" as="geometry" />
        </mxCell>
        
        <!-- Frontend Layer -->
        <mxCell id="frontend-group" value="Frontend (React 18 + Vite)" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1565c0;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="80" y="220" width="300" height="400" as="geometry" />
        </mxCell>
        <mxCell id="webapp" value="Web Application" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bbdefb;strokeColor=#1976d2;" vertex="1" parent="frontend-group">
          <mxGeometry x="100" y="30" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ui-layer" value="UI Layer (Ant Design + Tailwind)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bbdefb;strokeColor=#1976d2;" vertex="1" parent="frontend-group">
          <mxGeometry x="20" y="90" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="state-mgmt" value="State Management (Redux)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bbdefb;strokeColor=#1976d2;" vertex="1" parent="frontend-group">
          <mxGeometry x="160" y="90" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="api-client" value="API Client (Axios)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bbdefb;strokeColor=#1976d2;" vertex="1" parent="frontend-group">
          <mxGeometry x="20" y="140" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="router" value="React Router" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bbdefb;strokeColor=#1976d2;" vertex="1" parent="frontend-group">
          <mxGeometry x="160" y="140" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="pages" value="Pages (Auth, Dashboard, Clients, Audit, Admin)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90caf9;strokeColor=#1565c0;" vertex="1" parent="frontend-group">
          <mxGeometry x="50" y="200" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="components" value="Components (AddClientSteps, PlantProcessSteps)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90caf9;strokeColor=#1565c0;" vertex="1" parent="frontend-group">
          <mxGeometry x="50" y="270" width="200" height="50" as="geometry" />
        </mxCell>
        
        <!-- Backend Layer -->
        <mxCell id="backend-group" value="Backend (Express.js 5)" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#e65100;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="420" y="220" width="300" height="400" as="geometry" />
        </mxCell>
        <mxCell id="express" value="Express Server" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe0b2;strokeColor=#ef6c00;" vertex="1" parent="backend-group">
          <mxGeometry x="100" y="30" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="middleware" value="Middleware (Auth, Upload, RateLimit)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe0b2;strokeColor=#ef6c00;" vertex="1" parent="backend-group">
          <mxGeometry x="50" y="90" width="200" height="35" as="geometry" />
        </mxCell>
        <mxCell id="controllers" value="Controllers (Auth, Client, User, Admin, AI)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe0b2;strokeColor=#ef6c00;" vertex="1" parent="backend-group">
          <mxGeometry x="50" y="145" width="200" height="35" as="geometry" />
        </mxCell>
        <mxCell id="routes" value="API Routes (/api/auth, /api/client, /api/admin)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc80;strokeColor:#e65100;" vertex="1" parent="backend-group">
          <mxGeometry x="50" y="200" width="200" height="35" as="geometry" />
        </mxCell>
        
        <!-- Database Layer -->
        <mxCell id="database-group" value="Database (MongoDB)" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#1b5e20;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="760" y="220" width="200" height="400" as="geometry" />
        </mxCell>
        <mxCell id="mongodb" value="MongoDB" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#2e7d32;" vertex="1" parent="database-group">
          <mxGeometry x="50" y="30" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="models" value="Models (User, Client, Procurement, Compliance)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#2e7d32;" vertex="1" parent="database-group">
          <mxGeometry x="20" y="90" width="160" height="35" as="geometry" />
        </mxCell>
        
        <!-- External Services -->
        <mxCell id="external-group" value="External Services" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#4a148c;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1000" y="220" width="200" height="400" as="geometry" />
        </mxCell>
        <mxCell id="cloudinary" value="Cloudinary (File Storage)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1bee7;strokeColor:#7b1fa2;" vertex="1" parent="external-group">
          <mxGeometry x="20" y="30" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="firebase" value="Firebase (Push Notifications)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1bee7;strokeColor:#7b1fa2;" vertex="1" parent="external-group">
          <mxGeometry x="20" y="90" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="email" value="Email (Nodemailer/Gmail)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1bee7;strokeColor=#7b1fa2;" vertex="1" parent="external-group">
          <mxGeometry x="20" y="150" width="160" height="40" as="geometry" />
        </mxCell>
        
        <!-- Connections -->
        <mxCell id="conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="users-group" target="frontend-group">
          <mxGeometry relative="0.5" absolute="false" x="0" y="0" as="geometry">
            <mxPoint x="400" y="115" as="sourcePoint" />
            <mxPoint x="400" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="conn2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="frontend-group" target="backend-group">
          <mxGeometry relative="0.5" absolute="false" x="0" y="0" as="geometry">
            <mxPoint x="380" y="420" as="sourcePoint" />
            <mxPoint x="420" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="conn3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="backend-group" target="database-group">
          <mxGeometry relative="0.5" absolute="false" x="0" y="0" as="geometry">
            <mxPoint x="720" y="420" as="sourcePoint" />
            <mxPoint x="760" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="conn4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="backend-group" target="external-group">
          <mxGeometry relative="0.5" absolute="false" x="0" y="0" as="geometry">
            <mxPoint x="720" y="300" as="sourcePoint" />
            <mxPoint x="1000" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>